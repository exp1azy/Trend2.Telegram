function startDownload(){$("#homeRun").removeClass("home_run");$("#homeRun").addClass("home_run_disabled");$("#homeRun").attr("disabled","disabled");$.ajax({url:"/Home/StartDownload",type:"GET",success:function(n){n==="verificationRequested"&&(location.href="/Home/ShowVerificationForm");n==="phoneNumberRequested"&&(location.href="/Home/ShowPhoneNumberForm");n==="started"&&($("#homeStop").removeClass("home_stop_disabled"),$("#homeStop").removeAttr("disabled"),$("#homeStop").addClass("home_stop"),$("#phoneChange").removeClass("home_a"),$("#phoneChange").addClass("home_a_disabled"));n.startsWith("error:")&&(alert("Ошибка авторизации: "+n.substring(6)+"\n\nПопробуйте еще раз\nПри неудачной попытке обратитесь к разработчику"),$("#homeRun").removeClass("home_run_disabled"),$("#homeRun").removeAttr("disabled"),$("#homeRun").addClass("home_run"))},error:function(n){console.error(n)}})}function startDownloadFromAnotherNumber(){$.ajax({url:"/Home/StartDownloadFromAnotherNumber",type:"GET",success:function(n){n==="phoneNumberRequested"&&(location.href="/Home/ShowPhoneNumberForm")}})}function stopDownload(){$("#homeStop").removeClass("home_stop");$("#homeStop").addClass("home_stop_disabled");$("#homeStop").attr("disabled","disabled");$.ajax({url:"/Home/StopDownload",type:"GET",success:function(n){n==="stopped"&&($("#homeRun").removeClass("home_run_disabled"),$("#homeRun").removeAttr("disabled"),$("#homeRun").addClass("home_run"),$("#phoneChange").removeClass("home_a_disabled"),$("#phoneChange").addClass("home_a"))},error:function(n){console.error(n)}})}const hubConnection=(new signalR.HubConnectionBuilder).withUrl("/console").build();hubConnection.on("Receive",function(n){let t=document.createElement("span");t.textContent=n;document.getElementById("homeLog").appendChild(t);let i=document.getElementById("homeLog");i.scrollTop=i.scrollHeight});hubConnection.start().catch(function(n){console.error(n.toString())});